---
title: 타입 공유
description: nene.js가 프론트엔드와 백엔드 간에 타입을 자동으로 공유하는 방법을 알아봅니다.
order: 2
---

## 자동 타입 생성

nene.js는 컨트롤러에서 타입을 자동으로 추출하고 프론트엔드 훅을 위한 TypeScript 정의를 생성합니다. 이는 수동 동기화 없이 엔드투엔드 타입 안전성을 보장합니다.

```typescript
// 백엔드: src/controllers/user.controller.ts
interface User {
  id: string;
  name: string;
  email: string;
}

@Controller("/api/users")
export class UserController {
  @Get("/")
  async getUsers(): Promise<User[]> {
    return [{ id: "1", name: "John", email: "john@example.com" }];
  }
}
```

```tsx
// 프론트엔드: 생성된 훅은 자동으로 타입이 지정됩니다!
const { data } = useUsers();
// data의 타입은 User[] | undefined
```

<Callout type="tip">
  컨트롤러 파일을 저장하면 타입이 자동으로 재생성됩니다. 빌드 단계가 필요
  없습니다!
</Callout>

## 작동 방식

<Steps>
  <Step title="컨트롤러 분석">
    nene.js는 컨트롤러 메서드를 분석하여 반환 타입과 파라미터 타입을 추출합니다.
  </Step>

{" "}
<Step title="타입 추출">
  TypeScript 타입이 추출되어 재사용 가능한 인터페이스로 변환됩니다.
</Step>

  <Step title="훅 생성">
    파라미터와 응답에 대한 적절한 타입이 지정된 타입 안전한 React 훅이 생성됩니다.
  </Step>
</Steps>

## 커스텀 타입

프론트엔드와 백엔드 모두 가져올 수 있는 공통 위치에 공유 타입을 정의하세요:

```typescript
// src/types/user.ts
export interface User {
  id: string;
  name: string;
  email: string;
  createdAt: Date;
}

export interface CreateUserDto {
  name: string;
  email: string;
  password: string;
}
```

그런 다음 컨트롤러에서 사용하세요:

```typescript
import { User, CreateUserDto } from "@/types/user";

@Controller("/api/users")
export class UserController {
  @Post("/")
  async createUser(@Body() data: CreateUserDto): Promise<User> {
    // ...
  }
}
```

## 유효성 검사

nene.js는 인기 있는 유효성 검사 라이브러리와 통합됩니다:

<Tabs defaultValue="zod">
  <TabList>
    <TabTrigger value="zod">Zod</TabTrigger>
    <TabTrigger value="class-validator">class-validator</TabTrigger>
  </TabList>
  
  <TabContent value="zod">
    ```typescript
    import { z } from 'zod';

    const createUserSchema = z.object({
      name: z.string().min(1),
      email: z.string().email(),
      password: z.string().min(8),
    });

    type CreateUserDto = z.infer<typeof createUserSchema>;
    ```

  </TabContent>
  
  <TabContent value="class-validator">
    ```typescript
    import { IsString, IsEmail, MinLength } from 'class-validator';

    export class CreateUserDto {
      @IsString()
      name: string;

      @IsEmail()
      email: string;

      @MinLength(8)
      password: string;
    }
    ```

  </TabContent>
</Tabs>
