---
title: 项目结构
description: 了解 nene.js 应用程序的推荐项目结构。
order: 3
---

## 概述

典型的 nene.js 项目遵循结构化布局，在分离关注点的同时保持集成的开发体验：

```text
my-nene-app/
├── src/
│   ├── app/              # Next.js App Router pages
│   ├── controllers/      # nene.js controllers
│   ├── services/         # Business logic services
│   ├── hooks/            # Auto-generated hooks
│   └── components/       # React components
├── nene.config.ts        # nene.js configuration
├── next.config.js        # Next.js configuration
└── package.json
```

## 主要目录

### `src/controllers/`

包含 nene.js 控制器。定义 API 端点并生成相应的前端钩子。

```typescript
// src/controllers/post.controller.ts
@Controller("/api/posts")
export class PostController {
  @Get("/")
  async getPosts() {
    /* ... */
  }

  @Post("/")
  async createPost(@Body() data: CreatePostDto) {
    /* ... */
  }
}
```

<Callout type="info">放置在此目录中的控制器会自动被发现和注册。</Callout>

### `src/hooks/`

包含每个控制器方法的类型安全 React 钩子的自动生成目录。

<Callout type="warning">
  请勿手动编辑此目录中的文件 - 当钩子重新生成时，它们会被覆盖。
</Callout>

### `src/services/`

可在控制器之间共享的业务逻辑。使用依赖注入：

```typescript
// src/services/user.service.ts
import { Injectable } from "nene/decorators";

@Injectable()
export class UserService {
  async findById(id: string) {
    // Business logic goes here
  }
}
```

### `src/app/`

用于 React 页面和布局的标准 Next.js App Router 目录。

## 配置文件

| 文件             | 说明                            |
| ---------------- | ------------------------------- |
| `nene.config.ts` | nene.js framework configuration |
| `next.config.js` | Next.js configuration           |
| `tsconfig.json`  | TypeScript configuration        |

## 最佳实践

1. **按功能分组** - 对于更大的应用，考虑按功能对控制器和服务进行分组
2. **保持控制器轻量** - 将业务逻辑移至服务
3. **使用 DTO** - 定义清晰的数据传输对象以进行验证
